{"ast":null,"code":"import _toConsumableArray from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/components/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport image from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/assets/img/square-background.png\";\nimport darkImage from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/assets/img/background-darkmode.png\";\nimport LogsPage from \"./LogsPage\";\nimport NavBar from \"./NavBar\";\nimport LogForm from \"./LogForm\";\nimport LogCardDetail from \"./LogCardDetail\";\nimport DeleteCardButton from \"./DeleteCardButton\";\nfunction App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    allLogs = _useState2[0],\n    setAllLogs = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isDarkMode = _useState4[0],\n    setIsDarkMode = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    filterBy = _useState6[0],\n    setFilterBy = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchBy = _useState8[0],\n    setSearchBy = _useState8[1];\n  var navigate = useNavigate();\n  function darkModeClick() {\n    setIsDarkMode(function (isDarkMode) {\n      return !isDarkMode;\n    });\n  }\n  useEffect(function () {\n    fetch(\"http://localhost:3000/reflections\").then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return setAllLogs(data);\n    });\n  }, []);\n  function onFormSubmit(newLog) {\n    fetch(\"http://localhost:3000/reflections\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newLog)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return addLog(data);\n    });\n  }\n  function addLog(newLog) {\n    console.log(\"new log submitted!\");\n    var newLogList = [].concat(_toConsumableArray(allLogs), [newLog]);\n    setAllLogs(newLogList);\n  }\n  function filterByCategory(categoryName) {\n    setFilterBy(categoryName);\n  }\n  var logsToDisplay = allLogs.filter(function (log) {\n    if (filterBy === \"\" || filterBy === \"All\") {\n      return log;\n    } else {\n      return filterBy === log.category;\n    }\n  }).filter(function (log) {\n    var lowerCaseTitle = searchBy.toLowerCase();\n    return log.title.toLowerCase().startsWith(lowerCaseTitle);\n  });\n  function filterByTitle(title) {\n    setSearchBy(title);\n  }\n  function handleDelete(id) {\n    var confirm = window.confirm(\"This log will be deleted.\");\n    if (confirm) {\n      fetch(\"http://localhost:3000/reflections/\".concat(id), {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return navigate(\"/logs\");\n      });\n      setAllLogs(allLogs.filter(function (log) {\n        return log.id !== log.id;\n      }));\n    } else {\n      console.log(\"Log not deleted\");\n    }\n    console.log(confirm);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: isDarkMode ? {\n      backgroundImage: \"url(\".concat(darkImage, \")\")\n    } : {\n      backgroundImage: \"url(\".concat(image, \")\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    onDarkModeClick: darkModeClick,\n    mode: isDarkMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      mode: isDarkMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/logs\",\n    element: /*#__PURE__*/React.createElement(LogsPage, {\n      logs: logsToDisplay,\n      mode: isDarkMode,\n      filterBy: filterBy,\n      filterByCategory: filterByCategory,\n      filterByTitle: filterByTitle,\n      searchBy: searchBy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 12\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/logs/:id\",\n    element: /*#__PURE__*/React.createElement(LogCardDetail, {\n      mode: isDarkMode,\n      handleDelete: handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/newlog\",\n    element: /*#__PURE__*/React.createElement(LogForm, {\n      mode: isDarkMode,\n      onFormSubmit: onFormSubmit,\n      postRequest: addLog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","useNavigate","Header","Home","image","darkImage","LogsPage","NavBar","LogForm","LogCardDetail","DeleteCardButton","App","allLogs","setAllLogs","isDarkMode","setIsDarkMode","filterBy","setFilterBy","searchBy","setSearchBy","navigate","darkModeClick","fetch","then","res","json","data","onFormSubmit","newLog","method","headers","body","JSON","stringify","addLog","console","log","newLogList","filterByCategory","categoryName","logsToDisplay","filter","category","lowerCaseTitle","toLowerCase","title","startsWith","filterByTitle","handleDelete","id","confirm","window","backgroundImage"],"sources":["/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport image from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/assets/img/square-background.png\";\nimport darkImage from \"/Users/jumiyoon/Development/code/phase-2/phase-2-final-project/my-app/src/assets/img/background-darkmode.png\";\nimport LogsPage from \"./LogsPage\";\nimport NavBar from \"./NavBar\";\nimport LogForm from \"./LogForm\";\nimport LogCardDetail from \"./LogCardDetail\";\nimport DeleteCardButton from \"./DeleteCardButton\";\n\n\n\n\nfunction App() {\n  const [ allLogs, setAllLogs ] = useState([]);\n  const [ isDarkMode, setIsDarkMode ] = useState(false);\n  const [ filterBy, setFilterBy ] = useState(\"\")\n  const [ searchBy, setSearchBy ] = useState(\"\")\n  const navigate = useNavigate();\n\n  function darkModeClick() {\n    setIsDarkMode((isDarkMode) => !isDarkMode)\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/reflections\")\n      .then((res) => res.json())\n      .then((data) => setAllLogs(data))\n  }, [])\n\n  function onFormSubmit(newLog) {\n    fetch(\"http://localhost:3000/reflections\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newLog)\n    })\n    .then(res => res.json())\n    .then(data => addLog(data)) \n  }\n\n  function addLog(newLog){\n    console.log(\"new log submitted!\")\n    const newLogList = [...allLogs, newLog]\n    setAllLogs(newLogList)\n  }\n\n  function filterByCategory(categoryName){\n    setFilterBy(categoryName)\n  }\n\n  const logsToDisplay = allLogs.filter((log) => {\n    if (filterBy === \"\" || filterBy === \"All\") {\n      return log\n    } else {\n      return ( filterBy === log.category)\n    }\n  })\n  .filter((log) => {\n    let lowerCaseTitle = searchBy.toLowerCase();\n    return log.title.toLowerCase().startsWith(lowerCaseTitle);\n  })\n\n\n  function filterByTitle(title){\n    setSearchBy(title)\n  }\n\n  function handleDelete(id){\n    const confirm= window.confirm(\"This log will be deleted.\");\n\n    if (confirm) {\n             fetch(`http://localhost:3000/reflections/${id}`, {\n                 method: \"DELETE\",\n                 headers: {\n                     \"Content-Type\": \"application/json\"\n                 }\n             })\n             .then(res => res.json())\n             .then(data => navigate(\"/logs\"));\n             \n             setAllLogs(allLogs.filter((log) => log.id !== log.id))\n    } else {\n         console.log(\"Log not deleted\")\n    }\n    console.log(confirm);\n }\n\n  return (\n    <div className=\"App\" style={isDarkMode ? { backgroundImage:`url(${darkImage})`} :  { backgroundImage:`url(${image})`}}>\n      <Header onDarkModeClick={darkModeClick} mode={isDarkMode} />\n      <NavBar />\n        <Routes>\n          <Route path=\"/\" element ={<Home mode={isDarkMode} />}  />\n          <Route path=\"/logs\" element =\n          {<LogsPage \n              logs={logsToDisplay} \n              mode={isDarkMode} \n              filterBy={filterBy} \n              filterByCategory={filterByCategory}\n              filterByTitle={filterByTitle}\n              searchBy={searchBy} />} \n          />\n            <Route path=\"/logs/:id\" element ={<LogCardDetail mode={isDarkMode} handleDelete={handleDelete} /> } />\n          <Route path=\"/newlog\" element ={\n            <LogForm mode={isDarkMode} onFormSubmit={onFormSubmit} postRequest={addLog} />\n          } />\n        </Routes>\n        \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}